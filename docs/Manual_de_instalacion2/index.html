<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<link rel="alternate" type="application/rss+xml" href="/Trabajo2/blog/rss.xml" title="My Site Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/Trabajo2/blog/atom.xml" title="My Site Blog Atom Feed"><title data-react-helmet="true">Manual de Instalación | My Site</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://jeremyabel710.github.io/Trabajo2/docs/Manual_de_instalacion2"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Manual de Instalación | My Site"><meta data-react-helmet="true" name="description" content="Docker + GitLab + SSL"><meta data-react-helmet="true" property="og:description" content="Docker + GitLab + SSL"><link data-react-helmet="true" rel="shortcut icon" href="/Trabajo2/img/window.png"><link data-react-helmet="true" rel="canonical" href="https://jeremyabel710.github.io/Trabajo2/docs/Manual_de_instalacion2"><link data-react-helmet="true" rel="alternate" href="https://jeremyabel710.github.io/Trabajo2/docs/Manual_de_instalacion2" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://jeremyabel710.github.io/Trabajo2/docs/Manual_de_instalacion2" hreflang="x-default"><link rel="stylesheet" href="/Trabajo2/assets/css/styles.6b55b5cc.css">
<link rel="preload" href="/Trabajo2/assets/js/runtime~main.466f81cb.js" as="script">
<link rel="preload" href="/Trabajo2/assets/js/main.d0c4d596.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/Trabajo2/"><img src="/Trabajo2/img/window.png" alt="My Site Logo" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/Trabajo2/img/window.png" alt="My Site Logo" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"><b class="navbar__title">My Site</b></a></div><div class="navbar__items navbar__items--right"><div class="react-toggle toggle_2i4l react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_iYfV">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_iYfV">🌞</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button class="clean-btn backToTopButton_i9tI" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh menuWithAnnouncementBar_+O1J"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/Trabajo2/docs/intro">Manual para Script de Instalación</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/Trabajo2/docs/Manual_de_instalacion2">Manual de Instalación</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/Trabajo2/docs/Manual_de_instalacion3">Manual de instalación</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/Trabajo2/docs/Manual_de_instalacion4">Instalación del Facturador</a></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Manual de Instalación</h1></header><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="docker--gitlab--ssl"></a>Docker + GitLab + SSL<a class="hash-link" href="#docker--gitlab--ssl" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="pro-1--pro-2"></a>PRO 1 | PRO 2<a class="hash-link" href="#pro-1--pro-2" title="Direct link to heading">#</a></h4><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="descripción"></a>Descripción<a class="hash-link" href="#descripción" title="Direct link to heading">#</a></h2><p>Hemos elaborado un script para uso en instancias Linux, este es un archivo .sh que actualiza el sistema, instala las herramientas, sus dependencias, configura un certificado SSL renovable cada 90 días que debe ser confirmado en el proceso con su dominio y realiza todas las configuraciones previas, dejando el aplicativo listo para probar en menos de 20 minutos , su ejecución es muy sencilla.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="requisitos-previos"></a>Requisitos previos<a class="hash-link" href="#requisitos-previos" title="Direct link to heading">#</a></h2><ol><li><p>Tener acceso a su servidor, vps, máquina virtual o local via SSH, en las instalaciones que realizamos para AWS o Google Cloud, hacemos entrega del usuario, la IP del servidor y la clave ssh que puede ser un archivo .ppk o .pem.</p></li><li><p>Tener instalado una versión de ssh en su máquina para conectarse de manera remota, puede utilizar putty, filezilla o una consola terminal.</p></li><li><p>Es importante configurar su dominio apuntando a la IP de su instancia para que durante la ejecución del script se valide el certificado SSL y al finalizar la ejecución no tenga errores y todo esté listo para realizar pruebas. Edite los récords A y CNAME donde A debe contener su IP y CNAME el valor * (asterisco) para que se tomen los subdominios registrados por la herramienta.</p><p><img alt="Imagen" src="/Trabajo2/assets/images/Ejemplo-67d6c810b11e40045dced1135b28fb13.JPG"></p></li><li><p>Durante la ejecución del script deberá almacenar en su dominio dos registros TXT con unos valores que se mostrarán en pantalla, estos registros son validados en directo y no pueden tardar más de 2 minutos en validarse en su dominio.</p></li><li><p>En caso de contar con servicios instalados en su instancia como mysql, apache o nginx, debe detenerlos, ya que estos ocupan los puertos que pasarán a usarse con el aplicativo y los contenedores de Docker.</p></li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="pasos"></a>Pasos:<a class="hash-link" href="#pasos" title="Direct link to heading">#</a></h3><ol><li><p>Acceder a su instancia vía SSH.</p></li><li><p>Loguearse como super usuario ejecute:</p></li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">su</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ol start="3"><li>Ubicarse en la carpeta del usuario, por ejemplo </li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">cd</span><span class="token plain"> /home/ubuntu/</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ol start="4"><li>Crear el archivo install ejecute:</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">touch</span><span class="token plain"> install.sh</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ol start="5"><li>Editar el archivo con su editor preferido ejecute:</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">nano</span><span class="token plain"> install.sh</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ol start="6"><li><p>En el archivo debe agregar el contenido del siguiente enlace:</p><p><a href="https://gitlab.com/snippets/1852652()" target="_blank" rel="noopener noreferrer">https://gitlab.com/snippets/1852652()</a></p><p>Observará a una página como la siguiente, donde debe copiar el contenido del script y pegarlo en su archivo install.sh, es importante que mantenga las estructura del mismo.</p><hr><p><img alt="Imagen" src="/Trabajo2/assets/images/Ejemplo4-fcee64145ad4010ac2331a3b5b094bd9.JPG"></p></li><li><p>Para salir de editor y guardar puede presionar “<strong>ctrl + x</strong>” seguidamente se le consultará si desea guardar los cambios, confirme con “<strong>y</strong>” y luego “<strong>enter</strong>”.</p></li><li><p>Debe darle permisos de ejecución al archivo:</p></li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">chmod</span><span class="token plain"> +x install.sh</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ol start="9"><li>El comando a utilizar requiere de dos parámetros principalmente:</li></ol><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">./install.sh </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">repositorio</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">dominio</span><span class="token punctuation" style="color:#393A34">]</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>por ejemplo:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">./install.sh https://gitlab.com/rash07/facturadorpro2 elfacturador.com</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ol start="10"><li><p>Una vez ejecutado el comando se iniciará un proceso donde debe ir aceptando las preguntas y que le mostrará en pantalla los valores que debe añadir en los 2 récords tipo TXT de su dominio con nombre </p><p>a. <strong>_acme-challenge.example.com</strong> </p><p>b. <strong>_acme-challenge</strong> (casos como godday y puntope)</p><p>en la siguiente imagen le muestran el valor como v703JW.... debera copiarlo y añadirlo al primer record TXT, seguidamente pulsar enter, se le mostrará en pantalla un segundo valor para el segundo TXT</p><p><img alt="Imagen" src="/Trabajo2/assets/images/Ejemplo2-403f0e6a263d96845a2bb295580a2dad.JPG"></p></li><li><p>Editados los récords en su dominio, deberá aceptar para continuar y que el proceso verifique que sea exitoso, de ser exitoso obtendrá una pantalla similar a la siguiente:</p><p><img alt="Imagen" src="/Trabajo2/assets/images/Ejemplo5-710a1632712f24f2fbcf5001fe8ca4fc.JPG"></p></li></ol><ol start="12"><li><p>Continuará el proceso de actualización del sistema, se le solicitará el usuario y contraseña de GitLab, para que se pueda clonar/descargar el proyecto en su instancia, luego culminará y tendrá los accesos listos en su dominio:</p><p>Correo: <a href="mailto:admin@gmail.com" target="_blank" rel="noopener noreferrer">admin@gmail.com</a>
Contraseña: 123456</p></li></ol><p>Una vez finalizado, puede proseguir con el manual de pruebas o demás documentación de cada proyecto, sus URL son:</p><p>PRO1:
<a href="https://gitlab.com/rash07/facturadorpro1" target="_blank" rel="noopener noreferrer">https://gitlab.com/rash07/facturadorpro1</a></p><p>PRO2:
<a href="https://gitlab.com/rash07/facturadorpro2" target="_blank" rel="noopener noreferrer">https://gitlab.com/rash07/facturadorpro2</a></p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="recomendaciones"></a>Recomendaciones<a class="hash-link" href="#recomendaciones" title="Direct link to heading">#</a></h3><ul><li>Luego de instalar el facturador puede cambiar algunos parámetros en el archivo .env como:<ul><li>La dirección de envío de correos que utiliza el facturador para enviar los archivos pdf, xml y cdr a sus clientes</li><li>Cambiar algunas configuraciones de plantillas de los pdf</li><li>entre otros.</li></ul></li><li>Recuerde que siempre que se edita el archivo .env debe utilizar el comando “php artisan config:cache” dentro del contenedor de fpm1, para más detalles puede observar el manual de actualización <a href="https://docs.google.com/document/d/11PI1a9yjCPfH9CCuWmJSrdj1V8IEUffqurqvdkw29co/edit?usp=sharing" target="_blank" rel="noopener noreferrer">aqui</a> </li><li>La ruta donde ejecute el script será donde se clone el repositorio, debe verificar que los usuarios del servidor tengan permisos a dicha ruta si desea acceder desde ftp o scp.</li></ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/Trabajo2/docs/intro"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Manual para Script de Instalación</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/Trabajo2/docs/Manual_de_instalacion3"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Manual de instalación »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#docker--gitlab--ssl" class="table-of-contents__link">Docker + GitLab + SSL</a></li><li><a href="#descripción" class="table-of-contents__link">Descripción</a></li><li><a href="#requisitos-previos" class="table-of-contents__link">Requisitos previos</a><ul><li><a href="#pasos" class="table-of-contents__link">Pasos:</a></li><li><a href="#recomendaciones" class="table-of-contents__link">Recomendaciones</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"></div></div></footer></div>
<script src="/Trabajo2/assets/js/runtime~main.466f81cb.js"></script>
<script src="/Trabajo2/assets/js/main.d0c4d596.js"></script>
</body>
</html>